name: Datadog Agent
slug: datadog-agent
init: false
description: >-
  This add-on runs the full Datadog Agent on Home Assistant.
  It monitors CPU, memory, disk, network, and Docker metrics, and exposes a DogStatsD collector
  for the Home Assistant Datadog integration.
url: "https://github.com/rapdev-io/addon-datadog-agent"
version: 1.0.0
startup: services
boot: auto

arch:
  - aarch64
  - armv7
  - amd64

# If we want to monitor everything, we need access to everything.
host_network: true
host_pid: true
full_access: true
docker_api: true

ports:
# DogStatsD
  8125/udp: 8125

options:
  api_key: ""
  site: "datadoghq.com"

schema:
  api_key: str
  site: str?

devices:
  - /var/run/docker.sock:/var/run/docker.sock:r
